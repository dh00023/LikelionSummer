---
layout: post
title: Do it! 자바스크립트 1,2강
---

## 1-1. 자바스크립트란 무엇인가요?

개발자가 만든 ㅁ누서에 방문자가 방문하여 어떤 동작을 취했을 때, 그 동작에 반응하여 **반응이 일어날 수 있도록 해주는** 언어.

## 1-2. 자바스크립트 맛보기 예제

```
  <script>
        var age=prompt("당신의 나이는?", "0"); 
        if(age>=20){
            document.write("당신은 성인입니다.")
        }else{
            document.write("당신은 미성년자입니다.")
        }
    </script>
```

질의응답 창을 띄운 뒤, 20을 기준으로 실행문이 실행되는 예제이다.

## 2-1. model

| name | type |
|--------|--------|
| title | string |
| content | text |
| image | string |
| github | string |

> github은 주소를 참조하기위해 만들어주었습니다.

## 4. 알게된것

- uploader에서 version을 지정해주면 img_tag 내에서 사용가능
```	
image_tag post.image.url(:medium), class:"img_preview
```
```
  version :medium do
    process resize_to_fit: [250, 250]
  end
```
- uploader.rb 파일내의 store_dir 메서드에서 경로지정이 가능
```
  def store_dir
    "uploads/#{model.class.to_s.underscore}/#{mounted_as}/#{model.id}"
  end
```
> 이렇게 하면 post_id 에 따라 새로 폴더가 만들어지고, 각각 폴더안에 해당 이미지들이 저장된다.


## 5. 해결 못한 것
랜덤으로 파일명을 올리니 해결하지 못한 문제들이 있었다.
1. 파일명이 랜덤이라 경로가 오류가 나서 이미지가 엑박으로 떴다.
  > 랜덤으로 하는 옵션을 일단 지웠다..ㅠㅠ
 
2. thumb, medium 으로 만들어준 이미지를 불러오려면 어차피 새로운 url을 가져와야 했다.
  > 모델 생성 후 image_tag post.image.url(:medium), class:"img_preview" 로 하는 방법을 찾았다.
  > 하지만 S3에 올라가있는 thumb 이미지를 불러오는 것은 하지 못했다 ㅠㅠ

